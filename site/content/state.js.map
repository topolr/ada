{"version":3,"sources":["/site/content/state.js"],"names":["ContentService","Service","defaultData","url","title","desc","commentId","close","content","hash","menu","onupdate","current","data","setMenu","getPage","request","get","context","config","basePath","then","catch","e"],"mappings":";;;;;;;AAAA;;;;;;IAEMA,c,WAwBJ,mBAAO,SAAP,C,UAKA,mBAAO,SAAP,C,YA7BF,MAAMA,cAAN,SAA6BC,cAA7B,CAAqC;AACpCC,EAAAA,WAAW,GAAG;AACb,WAAO;AACNC,MAAAA,GAAG,EAAE,EADC;AAENC,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,IAAI,EAAE,EAHA;AAINC,MAAAA,SAAS,EAAE,EAJL;AAKNC,MAAAA,KAAK,EAAE,KALD;AAMNC,MAAAA,OAAO,EAAE,EANH;AAONC,MAAAA,IAAI,EAAE,EAPA;AAQNC,MAAAA,IAAI,EAAE;AARA,KAAP;AAUA;;AAEDC,EAAAA,QAAQ,CAACC,OAAD,EAAUC,IAAV,EAAgB;AACvBD,IAAAA,OAAO,CAACT,GAAR,GAAcU,IAAI,CAACV,GAAnB;AACAS,IAAAA,OAAO,CAACR,KAAR,GAAgBS,IAAI,CAACT,KAArB;AACAQ,IAAAA,OAAO,CAACP,IAAR,GAAeQ,IAAI,CAACR,IAApB;AACAO,IAAAA,OAAO,CAACL,KAAR,GAAgBM,IAAI,CAACN,KAArB;AACAK,IAAAA,OAAO,CAACN,SAAR,GAAoBO,IAAI,CAACP,SAAzB;AACAM,IAAAA,OAAO,CAACH,IAAR,GAAeI,IAAI,CAACJ,IAApB;AACA,WAAOG,OAAP;AACA;;AAGDE,EAAAA,OADA,CACQF,OADR,EACiBF,IADjB,EACuB;AACtBE,IAAAA,OAAO,CAACF,IAAR,GAAeA,IAAf;AACA;;AAGDK,EAAAA,OADA,CACQH,OADR,EACiB;AAChB,WAAO,KAAKI,OAAL,CAAaC,GAAb,CAAkB,GAAE,KAAKC,OAAL,CAAaC,MAAb,CAAoBC,QAAS,OAAMR,OAAO,CAACT,GAAI,MAAKS,OAAO,CAACH,IAAK,EAArF,EAAwFY,IAAxF,CAA6Fb,OAAO,IAAI;AAC9GI,MAAAA,OAAO,CAACJ,OAAR,GAAkBA,OAAlB;AACA,KAFM,EAEJc,KAFI,CAEGC,CAAD,IAAO;AACfX,MAAAA,OAAO,CAACJ,OAAR,GAAkB,EAAlB;AACA,KAJM,CAAP;AAKA;;AApCmC,C;eAuCtBR,c","sourcesContent":["import {action, Service} from \"adajs\";\n\nclass ContentService extends Service {\n\tdefaultData() {\n\t\treturn {\n\t\t\turl: \"\",\n\t\t\ttitle: \"\",\n\t\t\tdesc: \"\",\n\t\t\tcommentId: \"\",\n\t\t\tclose: false,\n\t\t\tcontent: \"\",\n\t\t\thash: \"\",\n\t\t\tmenu: []\n\t\t};\n\t}\n\n\tonupdate(current, data) {\n\t\tcurrent.url = data.url;\n\t\tcurrent.title = data.title;\n\t\tcurrent.desc = data.desc;\n\t\tcurrent.close = data.close;\n\t\tcurrent.commentId = data.commentId;\n\t\tcurrent.hash = data.hash;\n\t\treturn current;\n\t}\n\n\t@action(\"setmenu\")\n\tsetMenu(current, menu) {\n\t\tcurrent.menu = menu;\n\t}\n\n\t@action(\"getpage\")\n\tgetPage(current) {\n\t\treturn this.request.get(`${this.context.config.basePath}docs${current.url}?h=${current.hash}`).then(content => {\n\t\t\tcurrent.content = content;\n\t\t}).catch((e) => {\n\t\t\tcurrent.content = \"\";\n\t\t});\n\t}\n}\n\nexport default ContentService;\n"]}