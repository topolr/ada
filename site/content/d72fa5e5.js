"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _dec,_dec2,_class,_adajs=require("adajs");function _applyDecoratedDescriptor(e,t,r,a,c){var i={};return Object.keys(a).forEach(function(e){i[e]=a[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},i),c&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(c):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let ContentService=(_dec=(0,_adajs.action)("setmenu"),_dec2=(0,_adajs.action)("getpage"),_applyDecoratedDescriptor((_class=class extends _adajs.Service{defaultData(){return{url:"",title:"",desc:"",commentId:"",close:!1,content:"",hash:"",menu:[]}}onupdate(e,t){return e.url=t.url,e.title=t.title,e.desc=t.desc,e.close=t.close,e.commentId=t.commentId,e.hash=t.hash,e}setMenu(e,t){return e.menu=t,e}getPage(e){return this.request.get(`${this.context.config.basePath}docs${e.url}?h=${e.hash}`).then(t=>(e.content=t,e)).catch(t=>(e.content="",e))}}).prototype,"setMenu",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"setMenu"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getPage",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"getPage"),_class.prototype),_class);var _default=ContentService;exports.default=_default;