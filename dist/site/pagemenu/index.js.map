{"version":3,"sources":["/site/pagemenu/index.js"],"names":["Pagemenu","className","template","style","dataset","service","PagemenuService","View","oncreated","dispatcher","observe","togglewin","getCurrentState","close","dispatchEvent","scroll","top","window","document","scrollingElement","body","scrollTop","commit"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;IAUMA,Q,WARL,iBAAK;AACLC,EAAAA,SAAS,EAAE,UADN;AAELC,EAAAA,QAAQ,EAAE,iBAFL;AAGLC,EAAAA,KAAK,EAAE,cAHF;AAILC,EAAAA,OAAO,EAAE;AACRC,IAAAA,OAAO,EAAEC;AADD;AAJJ,CAAL,C,UAaC,mBAAO,WAAP,C,UASA,sBAAU,QAAV,C,2BAtBF,MAQMN,QARN,SAQuBO,WARvB,CAQ4B;AAC3BC,EAAAA,SAAS,GAAG;AACXC,wBAAWC,OAAX,CAAmB,IAAnB;AACA;;AAGDC,EAAAA,SADA,GACY;AACX,QAAI,KAAKC,eAAL,GAAuBC,KAA3B,EAAkC;AACjC,WAAKC,aAAL,CAAmB,SAAnB;AACA,KAFD,MAEO;AACN,WAAKA,aAAL,CAAmB,UAAnB;AACA;AACD;;AAGDC,EAAAA,MADA,GACS;AACR,QAAIC,GAAG,GAAG,CAACC,MAAM,CAACC,QAAP,CAAgBC,gBAAhB,IAAoCF,MAAM,CAACC,QAAP,CAAgBE,IAArD,EAA2DC,SAArE;;AACA,QAAIL,GAAG,GAAG,GAAV,EAAe;AACd,WAAKM,MAAL,CAAY,QAAZ,EAAsB,IAAtB;AACA,KAFD,MAEO;AACN,WAAKA,MAAL,CAAY,QAAZ,EAAsB,KAAtB;AACA;AACD;;AAtB0B,C;eAyBbtB,Q","sourcesContent":["import {binder, View, view, subscribe} from \"adajs\";\nimport PagemenuService from \"./state.js\";\nimport dispatcher from \"./../../dispatcher\";\n\n@view({\n\tclassName: \"pagemenu\",\n\ttemplate: \"./template.html\",\n\tstyle: \"./style.scss\",\n\tdataset: {\n\t\tservice: PagemenuService\n\t}\n})\nclass Pagemenu extends View {\n\toncreated() {\n\t\tdispatcher.observe(this);\n\t}\n\n\t@binder(\"togglewin\")\n\ttogglewin() {\n\t\tif (this.getCurrentState().close) {\n\t\t\tthis.dispatchEvent(\"openwin\");\n\t\t} else {\n\t\t\tthis.dispatchEvent(\"closewin\");\n\t\t}\n\t}\n\n\t@subscribe(\"scroll\")\n\tscroll() {\n\t\tlet top = (window.document.scrollingElement || window.document.body).scrollTop;\n\t\tif (top > 120) {\n\t\t\tthis.commit(\"scroll\", true);\n\t\t} else {\n\t\t\tthis.commit(\"scroll\", false);\n\t\t}\n\t}\n}\n\nexport default Pagemenu;\n"]}