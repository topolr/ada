{"version":3,"sources":["/modules/loading/index.js"],"names":["Loading","className","template","style","dataset","service","LoadingService","View","oncreated","setTimeout","isRemoved","getElement","classList","add","getThisClassName","showLoading","content","getDataSet","commit","icon","refreshCw","circle","color","showSuccess","checkCircle","showError","minusCircle","close","delay","remove","getParent","removeChild"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;IAWMA,O,WATL,iBAAK;AACLC,EAAAA,SAAS,EAAE,SADN;AAELC,EAAAA,QAAQ,EAAE,iBAFL;AAGLC,EAAAA,KAAK,EAAE,cAHF;AAILC,EAAAA,OAAO,EAAE;AACRC,IAAAA,OAAO,EAAEC;AADD;AAJJ,CAAL,C,gBAAD,MASMN,OATN,SASsBO,WATtB,CAS2B;AAC1BC,EAAAA,SAAS,GAAG;AACXC,IAAAA,UAAU,CAAC,MAAM;AAChB,UAAI,CAAC,KAAKC,SAAL,EAAL,EAAuB;AACtB,aAAKC,UAAL,GAAkBC,SAAlB,CAA4BC,GAA5B,CAAgC,KAAKC,gBAAL,CAAsB,IAAtB,CAAhC;AACA;AACD,KAJS,EAIP,GAJO,CAAV;AAKA;;AAEDC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACpB,SAAKC,UAAL,GAAkBC,MAAlB,CAAyB,KAAzB,EAAgC;AAC/BC,MAAAA,IAAI,EAAEC,kBADyB;AAE/BC,MAAAA,MAAM,EAAE,IAFuB;AAG/BC,MAAAA,KAAK,EAAE,OAHwB;AAI/BN,MAAAA,OAAO,EAAEA,OAAO,IAAI;AAJW,KAAhC;AAMA;;AAEDO,EAAAA,WAAW,CAACP,OAAD,EAAU;AACpB,SAAKC,UAAL,GAAkBC,MAAlB,CAAyB,KAAzB,EAAgC;AAC/BC,MAAAA,IAAI,EAAEK,oBADyB;AAE/BH,MAAAA,MAAM,EAAE,KAFuB;AAG/BC,MAAAA,KAAK,EAAE,OAHwB;AAI/BN,MAAAA,OAAO,EAAEA,OAAO,IAAI;AAJW,KAAhC;AAMA;;AAEDS,EAAAA,SAAS,CAACT,OAAD,EAAU;AAClB,SAAKC,UAAL,GAAkBC,MAAlB,CAAyB,KAAzB,EAAgC;AAC/BC,MAAAA,IAAI,EAAEO,oBADyB;AAE/BL,MAAAA,MAAM,EAAE,KAFuB;AAG/BC,MAAAA,KAAK,EAAE,KAHwB;AAI/BN,MAAAA,OAAO,EAAEA,OAAO,IAAI;AAJW,KAAhC;AAMA;;AAEDW,EAAAA,KAAK,CAACC,KAAK,GAAG,IAAT,EAAe;AACnBnB,IAAAA,UAAU,CAAC,MAAM;AAChB,UAAI,CAAC,KAAKC,SAAL,EAAL,EAAuB;AACtB,aAAKC,UAAL,GAAkBC,SAAlB,CAA4BiB,MAA5B,CAAmC,KAAKf,gBAAL,CAAsB,IAAtB,CAAnC;AACAL,QAAAA,UAAU,CAAC,MAAM;AAChB,eAAKqB,SAAL,MAAoB,KAAKA,SAAL,GAAiBC,WAAjB,CAA6B,IAA7B,CAApB;AACA,SAFS,EAEP,GAFO,CAAV;AAGA;AACD,KAPS,EAOPH,KAPO,CAAV;AAQA;;AA7CyB,C;eAgDZ5B,O","sourcesContent":["import {view, View} from \"adajs\";\nimport refreshCw from \"./icons/refresh-cw.icon\";\nimport checkCircle from \"./icons/check-circle.icon\";\nimport minusCircle from \"./icons/minus-circle.icon\";\nimport LoadingService from \"./state\";\nimport \"../style/base.scss\";\n\n@view({\n\tclassName: \"loading\",\n\ttemplate: \"./template.html\",\n\tstyle: \"./style.scss\",\n\tdataset: {\n\t\tservice: LoadingService\n\t}\n})\n\nclass Loading extends View {\n\toncreated() {\n\t\tsetTimeout(() => {\n\t\t\tif (!this.isRemoved()) {\n\t\t\t\tthis.getElement().classList.add(this.getThisClassName(\"in\"));\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tshowLoading(content) {\n\t\tthis.getDataSet().commit(\"set\", {\n\t\t\ticon: refreshCw,\n\t\t\tcircle: true,\n\t\t\tcolor: \"black\",\n\t\t\tcontent: content || \"loading...\"\n\t\t});\n\t}\n\n\tshowSuccess(content) {\n\t\tthis.getDataSet().commit(\"set\", {\n\t\t\ticon: checkCircle,\n\t\t\tcircle: false,\n\t\t\tcolor: \"green\",\n\t\t\tcontent: content || \"Success done\"\n\t\t});\n\t}\n\n\tshowError(content) {\n\t\tthis.getDataSet().commit(\"set\", {\n\t\t\ticon: minusCircle,\n\t\t\tcircle: false,\n\t\t\tcolor: \"red\",\n\t\t\tcontent: content || \"Error occur\"\n\t\t});\n\t}\n\n\tclose(delay = 2000) {\n\t\tsetTimeout(() => {\n\t\t\tif (!this.isRemoved()) {\n\t\t\t\tthis.getElement().classList.remove(this.getThisClassName(\"in\"));\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.getParent() && this.getParent().removeChild(this);\n\t\t\t\t}, 400);\n\t\t\t}\n\t\t}, delay);\n\t}\n}\n\nexport default Loading;"]}